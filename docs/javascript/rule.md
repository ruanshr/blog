# 架构设计原则

软件设计原则分软件架构设计和组织原则

### GRASP 通用指针分配软件模式

来自Graig Larman 的软件设计书《UML和模式应用》Larman在书中提出软件设计的关键任务是职责分配，并提炼总结出9中（5种核心+4种扩展）软件职责分配模式，这些模式是比GoF设计模式更抽象的元模式

1、信息专家（Information Expert）

为对象分配职责的通用原则-把职责分配给拥有足够信息可以履行职责的专家

2、创建者（Creator）

将创建A的职责赋给B，如果至少下面一种情况是真的：
- B 包含或者聚合A
- B 记录A的实例
- B 密切地使用A
- B 拥有A的初始化数据

3、低耦合（Low Coupling）

赋予职责使得对象间的耦合度尽可能低，最小化对象间的依赖和变更影响，最大化重用

4、高内聚（High  Cohesion）

赋予职责使得每个对象的职责尽可能保持聚焦和单一，易于管理和理解

5、控制器（Controller）

把职责赋予系统，设备或者子系统的表示类（门面控制器）让控制器接收事件并协调整个系统的运作

6、多态（Polymorphism）

将职责分配给多个具有同名方法的多态子类，运行时根据需要动态切换子类，让系统行为变得可插拔

7、纯虚构（Pure Fabrication）

针对真实问题域中不存在，但是设计建模中有用的概念，设计虚构类并赋予职责

8、间接（Indirection）

在两个或者多个对象间有交互的情况下，为避免直接耦合，提高重用型，创建中间类并赋予职责，对象的交互交由中间类协调

9、受保护的变化（Protected Variation）

简单讲的就是封装变化。识别系统中可能的不稳定或者变化，在不稳定组件上创建稳定的抽象接口，将可能的变化封装在接口之后，使得系统内部的不稳定或者变化不会对系统的系统不符产生不良影响。

### SOLID 面向对象设计原则

S.O.L.I.D 是面向对象设计和编程（OOD&OOP）中几个重要原则的首字母缩写，受 Robert Martin 推崇

1、单一职责原则（The Single Responsibility Principle)

修改某个类的理由应该只有一个，如果超过一个，说明类承担不止一个职责，要视情况拆分

2、开放封闭原则（The Open Closed Principle）

软件石头应该对扩展开放，对修改封闭。一般不要直接修改类库的源码（即使你有源码），通过继承等方式扩展

3、里氏替换原则（The Liskov Subsititution Principle）

当一个子类的实例能够被替换成任何超类的实例时，他们之间才是真正的is-a关系

4、依赖倒置原则（The Dependency inversion Principle）

高层模块不应该依赖于底层模块，两则都应该依赖于抽象。换句话说，依赖于抽象，不要依赖于具体实现，比方说你不会把电器的
电源线焊死在室内电源接头处，而是用标准的插头插在标准的插座（抽象）

5、接口分离原则（The Interface Segregation Priciple）

不要强迫用户去依赖他们不使用的接口，换句话说，使用多个专门的接口比使用单一的大而全的接口要好

