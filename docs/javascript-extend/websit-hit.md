# 网站攻击

### SQL 注入

所谓 SQL 注入，就是通过把 SQL 命令插入到 Web 表单提交或输入域名或页面请求的查询字符串，最终达到欺骗服务器执行恶意的 SQL 命令。具体来说，它是利用现有应用程序，将（恶意）的 SQL 命令注入到后台数据库引擎执行的能力，它可以通过在 Web 表单中输入（恶意）SQL 语句得到一个存在安全漏洞的网站上的数据库，而不是按照设计者意图去执行 SQL 语句。[1] 比如先前的很多影视网站泄露 VIP 会员密码大多就是通过 WEB 表单递交查询字符暴出的，这类表单特别容易受到 SQL 注入式攻击．
原理：
SQL 注入攻击指的是通过构建特殊的输入作为参数传入 Web 应用程序，而这些输入大都是 SQL 语法里的一些组合，通过执行 SQL 语句进而执行攻击者所要的操作，其主要原因是程序没有细致地过滤用户输入的数据，致使非法数据侵入系统。
根据相关技术原理，SQL 注入可以分为平台层注入和代码层注入。前者由不安全的数据库配置或数据库平台的漏洞所致；后者主要是由于程序员对输入未进行细致地过滤，从而执行了非法的数据查询。基于此，SQL 注入的产生原因通常表现在以下几方面：① 不当的类型处理；② 不安全的数据库配置；③ 不合理的查询集处理；④ 不当的错误处理；⑤ 转义字符处理不合适；⑥ 多个提交处理不当。
防护： 1.永远不要信任用户的输入。对用户的输入进行校验，可以通过正则表达式，或限制长度；对单引号和

### XSS

跨站脚本攻击（XSS，Cross-site scripting）是最常见和基本的攻击 WEB 网站的方法。攻击者在网页上发布包含攻击性代码的数据。当浏览者看到此网页时，特定的脚本就会以浏览者用户的身份和权限来执行。通过 XSS 可以比较容易地修改用户数据、窃取用户信息，以及造成其它类型的攻击，例如 CSRF 攻击

常见解决办法:确保输出到 HTML 页面的数据以 HTML 的方式被转义

出错的页面的漏洞也可能造成 XSS 攻击.比如页面/gift/giftList.htm?page=2 找不到,出错页面直接把该 url 原样输出,如果攻击者在 url 后面加上攻击代码发给受害者,就有可能出现 XSS 攻击

### CSRF

跨站请求伪造（CSRF，Cross-site request forgery）是另一种常见的攻击。攻击者通过各种方法伪造一个请求，模仿用户提交表单的行为，从而达到修改用户的数据，或者执行特定任务的目的。为了假冒用户的身份，CSRF 攻击常常和 XSS 攻击配合起来做，但也可以通过其它手段，例如诱使用户点击一个包含攻击的链接
解决的思路有: 1.采用 POST 请求,增加攻击的难度.用户点击一个链接就可以发起 GET 类型的请求。而 POST 请求相对比较难，攻击者往往需要借助 javascript 才能实现 2.对请求进行认证，确保该请求确实是用户本人填写表单并提交的，而不是第三者伪造的.具体可以在会话中增加 token,确保看到信息和提交信息的是同一个人

### ddos

ddos 攻击意思是黑客通过几千台甚至上万台肉鸡每秒像你的网站 ip 发送几 G 甚至几 T 的流量，对你网站 ip 进行的流量攻击，一般受攻击的网站会因为流量猛涨，内存占用过高而打不开。原理如图

防御的方法：
（1）可以通过花钱像服务器运营商购买更多的流量或带宽即提高网站服务器配置，当黑客的攻击流量小于你服务器拥有的流量，网站还是可以打开，黑客的目的就没达到，如果黑客还对你网站 ip 发动 ddos 攻击，他的肉鸡流量也会有损耗。
（2）网站服务器只开放 80 端口，其他所有端口都关闭，即在防火墙上做阻止策略。
（3）检查访问者 ip 是否是真实 ip，使用 Unicast Reverse-Path-Forwarding 等反向路由器查询检查访问者 ip 是否真实
